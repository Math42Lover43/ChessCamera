<!DOCTYPE html>
<html>
    <head>
        <title>
            ChessCamera: Convert chess notation photos into PGN files for external use
        </title>
        <meta charset="utf-8">
        <style>
            body, button, input {
                font-family: 'Segoe UI';
            }
            .error {
                color: rgb(170,0,0);
            }
            .good {
                color: rgb(0,170,0);
            }
            .code {
                font-family: monospace;
            }
            button {
                border-radius: 5px; background-color: black; color: white;
            }
        </style>
    </head>
    <body>
        <p>
            You can use this website to take a photo of chess notation to convert into a PGN file to use on another site.
        </p>
        <div class="error" id="camstatus">
            Your camera is disabled for this site. Please enable your camera for this website to work properly.
            <button onclick="enable_camera();">
                Enable camera
            </button>
        </div>
        <div id="record" style="display: none;">
            <input type="file" accept="image/*" capture="environment" style="text-align: center;"/>
            If your camera still doesn't work, that's no problem. Use a camera app to take the photo, and then select it here.
        </div>
    </body>
    <script>
        function enable_camera() {
            navigator.mediaDevices.getUserMedia({ video: true }).then(() => {
                document.getElementById("camstatus").className = "good";
                document.getElementById("camstatus").innerHTML = "Your camera is enabled for this site.";
                document.getElementById("record").style = "margin-left: 25%; margin-right: 25%;";
            });
        }
    </script>
</html>
